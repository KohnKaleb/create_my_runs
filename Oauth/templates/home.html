<!DOCTYPE html>
{% load static %}
<html>
  <head>
    <title>Interactive maps for Django web apps</title>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script>
  </head>
  <body>
   <h1>Map time!</h1>
   <div id='map' width="100%" style='height:400px'></div>
   <script>
    mapboxgl.accessToken = "{{MAPBOX_KEY}}";
    const coords = "{{coords}}";
    const map = new mapboxgl.Map({
     container: 'map',  
     center: [-89.40, 43.07],
     zoom: 15,
     style: 'mapbox://styles/mapbox/streets-v11'
    });
    map.on('load', () => {
      map.addSource('route', {
      'type': 'geojson',
      'data': {
      'type': 'Feature',
      'properties': {},
      'geometry': {
      'type': 'LineString',
      'coordinates': [[-89.39187, 43.07323], [-89.39195, 43.07333], [-89.39222, 43.07304], [-89.39224, 43.07294], [-89.39235, 43.07276], [-89.39237, 43.07275], 
                      [-89.39238, 43.07268], [-89.39233, 43.07259], [-89.39234, 43.07245], [-89.39223, 43.0722], [-89.39226, 43.07217], [-89.39245, 43.07207], 
                      [-89.39273, 43.07202], [-89.39347, 43.07182], [-89.39376, 43.07186], [-89.39408, 43.07184], [-89.39441, 43.07186], [-89.39457, 43.07193], 
                      [-89.3946, 43.07197], [-89.39462, 43.07197], [-89.39535, 43.07194], [-89.39582, 43.0719], [-89.39595, 43.07191], [-89.3962, 43.0719], 
                      [-89.39632, 43.07192], [-89.39691, 43.07205], [-89.39711, 43.07199], [-89.3972, 43.07194], [-89.39746, 43.07193], [-89.39782, 43.07186], 
                      [-89.39791, 43.07181], [-89.39847, 43.07181], [-89.39917, 43.07189], [-89.3999, 43.07194], [-89.40015, 43.07193], [-89.40028, 43.07197], 
                      [-89.40035, 43.07209], [-89.40039, 43.07227], [-89.4004, 43.0725], [-89.40056, 43.07276], [-89.40059, 43.07297], [-89.40072, 43.07313], 
                      [-89.40076, 43.07315], [-89.40092, 43.07317], [-89.40131, 43.07319], [-89.40179, 43.07317], [-89.40196, 43.0732], [-89.40209, 43.0732], 
                      [-89.40236, 43.07316], [-89.40351, 43.07321], [-89.40378, 43.07317], [-89.40395, 43.07318], [-89.40418, 43.07324], [-89.40417, 43.07329], 
                      [-89.40412, 43.07338], [-89.40414, 43.07341], [-89.4042, 43.07344], [-89.40429, 43.07343], [-89.4044, 43.07323], [-89.40449, 43.0731],
                      [-89.40464, 43.07303], [-89.40505, 43.07311], [-89.40527, 43.0732], [-89.40539, 43.07333], [-89.40543, 43.0734], [-89.4056, 43.07358],
                      [-89.40584, 43.07379], [-89.40595, 43.07393], [-89.40608, 43.07431], [-89.40635, 43.07485], [-89.4063, 43.07518], [-89.40626, 43.07525],
                      [-89.40657, 43.0752], [-89.40763, 43.07516], [-89.40797, 43.07518], [-89.40863, 43.07515], [-89.41052, 43.07514], [-89.41069, 43.07513],
                      [-89.4108, 43.0751], [-89.41091, 43.07511], [-89.41106, 43.0751], [-89.41128, 43.075], [-89.41157, 43.07501], [-89.41213, 43.07508],
                      [-89.41229, 43.07507], [-89.41241, 43.07514], [-89.4126, 43.07529], [-89.41272, 43.07566], [-89.41284, 43.07587], [-89.41284, 43.07614],
                      [-89.41291, 43.07633], [-89.41298, 43.07634], [-89.41306, 43.07633], [-89.41326, 43.07638], [-89.41373, 43.07643], [-89.41404, 43.07643],
                      [-89.4146, 43.07641], [-89.41494, 43.07636], [-89.4152, 43.07636], [-89.41539, 43.07641], [-89.41554, 43.07638], [-89.41572, 43.07637],
                      [-89.41674, 43.07641], [-89.41708, 43.0764], [-89.41748, 43.07641], [-89.41879, 43.07641], [-89.41982, 43.07648], [-89.4199, 43.07652],
                      [-89.42014, 43.07656], [-89.4205, 43.07655], [-89.42068, 43.07649], [-89.42126, 43.07648], [-89.42137, 43.07652], [-89.42137, 43.07655],
                      [-89.42125, 43.07693], [-89.42125, 43.07706], [-89.4213, 43.07715], [-89.42157, 43.07712], [-89.42162, 43.07714], [-89.42167, 43.07719],
                      [-89.42159, 43.07783], [-89.42161, 43.0779], [-89.42179, 43.07802], [-89.42205, 43.0781], [-89.42248, 43.07816], [-89.4227, 43.07821], [-89.42292, 43.07832],
                      [-89.42326, 43.07856], [-89.42348, 43.07874], [-89.42393, 43.07919], [-89.42406, 43.07936], [-89.42449, 43.07973], [-89.42495, 43.08019], [-89.4253, 43.0803], 
                      [-89.42545, 43.08048], [-89.42553, 43.08067], [-89.42612, 43.08116], [-89.42641, 43.08132], [-89.42665, 43.0814], [-89.42713, 43.0816], [-89.42796, 43.0821],
                      [-89.42814, 43.08226], [-89.42827, 43.08242], [-89.42836, 43.08265], [-89.42852, 43.0833], [-89.42866, 43.08406], [-89.42887, 43.08453], [-89.42891, 43.08473],
                      [-89.42883, 43.08495], [-89.42879, 43.08496], [-89.42867, 43.08489], [-89.42863, 43.08471], [-89.42851, 43.0846], [-89.4284, 43.08465], [-89.42809, 43.08475],
                      [-89.42728, 43.08488], [-89.42684, 43.08487], [-89.42667, 43.08495], [-89.42664, 43.08498], [-89.42649, 43.085], [-89.42607, 43.08521], [-89.42582, 43.08532], 
                      [-89.42573, 43.08532], [-89.4252, 43.08558], [-89.42489, 43.08568], [-89.42415, 43.08573], [-89.42387, 43.08578], [-89.42362, 43.08584], [-89.42334, 43.08585],
                      [-89.42316, 43.08589], [-89.42297, 43.08587], [-89.42232, 43.08596], [-89.42214, 43.08603], [-89.42156, 43.0862], [-89.42136, 43.08628], [-89.42105, 43.08637],
                      [-89.42081, 43.08647], [-89.42054, 43.08664], [-89.42033, 43.08681], [-89.42009, 43.08692], [-89.41961, 43.0871], [-89.41915, 43.0874], [-89.41857, 43.08761],
                      [-89.41827, 43.08767], [-89.41804, 43.08779], [-89.41774, 43.088], [-89.41752, 43.0881], [-89.41736, 43.08808], [-89.41686, 43.08815], [-89.41662, 43.08822],
                      [-89.41639, 43.08831], [-89.41621, 43.08847], [-89.41599, 43.08877], [-89.41591, 43.08898], [-89.4156, 43.08947], [-89.41558, 43.08954], [-89.41547, 43.08966],
                      [-89.41543, 43.08981], [-89.41545, 43.08983], [-89.41554, 43.08978], [-89.41563, 43.08965], [-89.41571, 43.08959], [-89.41593, 43.0895], [-89.41614, 43.08937],
                      [-89.41642, 43.08915], [-89.41666, 43.08903], [-89.41687, 43.08889], [-89.41703, 43.08876], [-89.41705, 43.08871], [-89.41726, 43.0885], [-89.4173, 43.08832],
                      [-89.41738, 43.08819], [-89.41752, 43.08804], [-89.41791, 43.08774], [-89.41819, 43.08762], [-89.41829, 43.0876], [-89.41898, 43.08739], [-89.41927, 43.08724],
                      [-89.41966, 43.08697], [-89.42019, 43.08675], [-89.4204, 43.08663], [-89.42055, 43.0865], [-89.42147, 43.08609], [-89.4217, 43.08601], [-89.42185, 43.08597],
                      [-89.42245, 43.08576], [-89.42328, 43.08571], [-89.42355, 43.08566], [-89.4238, 43.08565], [-89.42417, 43.08568], [-89.42485, 43.08562], [-89.42519, 43.08552],
                      [-89.42563, 43.08527], [-89.42616, 43.085], [-89.42642, 43.08492], [-89.42649, 43.08488], [-89.42673, 43.0848], [-89.42709, 43.0848], [-89.42736, 43.08477],
                      [-89.42779, 43.08469], [-89.42805, 43.08469], [-89.42818, 43.08467], [-89.42842, 43.0846], [-89.42857, 43.08453], [-89.42671, 43.08141], [-89.42629, 43.08122],
                      [-89.42609, 43.0811], [-89.42587, 43.08092], [-89.42552, 43.08062], [-89.42541, 43.08041], [-89.42527, 43.08025], [-89.42507, 43.08018], [-89.42499, 43.08016],
                      [-89.42478, 43.08007], [-89.42404, 43.07934], [-89.42366, 43.0789], [-89.42348, 43.07874], [-89.42323, 43.07858], [-89.42293, 43.07835], [-89.42259, 43.07818], 
                      [-89.42236, 43.07811], [-89.42149, 43.07796], [-89.421, 43.07796], [-89.42071, 43.07797], [-89.42033, 43.07802], [-89.42011, 43.07811], [-89.41979, 43.07827], 
                      [-89.41938, 43.07865], [-89.41925, 43.07881], [-89.41922, 43.07888], [-89.41906, 43.07906], [-89.41883, 43.07917], [-89.41873, 43.0792], [-89.41855, 43.07919], 
                      [-89.4181, 43.07906], [-89.41733, 43.07877], [-89.41723, 43.07871], [-89.41646, 43.07841], [-89.41617, 43.07836], [-89.41505, 43.07831], [-89.41457, 43.07844], 
                      [-89.41408, 43.07843], [-89.41361, 43.07854], [-89.4129, 43.07859], [-89.41229, 43.07858], [-89.41199, 43.07861], [-89.41146, 43.07862], [-89.41132, 43.0786],
                      [-89.41114, 43.07861], [-89.4108, 43.07867], [-89.41016, 43.07845], [-89.40956, 43.07817], [-89.4088, 43.07799], [-89.40758, 43.07773], [-89.40732, 43.07769],
                      [-89.40706, 43.07769], [-89.40544, 43.07753], [-89.40513, 43.07754], [-89.40465, 43.0775], [-89.40449, 43.07745], [-89.40426, 43.0774], [-89.40399, 43.07736],
                      [-89.40373, 43.07729], [-89.40341, 43.07723], [-89.40315, 43.07728], [-89.40272, 43.07734], [-89.40234, 43.07723], [-89.40172, 43.07721], [-89.40146, 43.07719],
                      [-89.40102, 43.07701], [-89.40058, 43.07692], [-89.40054, 43.07689], [-89.40052, 43.07682], [-89.40055, 43.0767], [-89.40063, 43.07649], [-89.40074, 43.07643],
                      [-89.40077, 43.07634], [-89.40077, 43.07623], [-89.40077, 43.07626], [-89.40072, 43.07611], [-89.40061, 43.07593], [-89.40056, 43.07566], [-89.40059, 43.07549],
                      [-89.40072, 43.07531], [-89.40077, 43.07516], [-89.40067, 43.07502], [-89.40046, 43.07425], [-89.40042, 43.07384], [-89.40042, 43.07367], [-89.40039, 43.07363],
                      [-89.40036, 43.07327], [-89.40026, 43.07317], [-89.40007, 43.07323], [-89.39937, 43.07314], [-89.39776, 43.07309], [-89.39752, 43.07303], [-89.39708, 43.07306], 
                      [-89.39679, 43.07306], [-89.39647, 43.0731], [-89.39596, 43.07308], [-89.39592, 43.07305], [-89.39524, 43.07308], [-89.39465, 43.07308], [-89.39438, 43.07312], 
                      [-89.39417, 43.07305], [-89.39398, 43.07293], [-89.39397, 43.07281], [-89.39393, 43.07275], [-89.39383, 43.07269], [-89.39373, 43.07253], [-89.39359, 43.07243], 
                      [-89.3932, 43.07268], [-89.39296, 43.07278], [-89.39284, 43.07297], [-89.39261, 43.07305], [-89.39238, 43.07318], [-89.39231, 43.0733], [-89.39218, 43.07341], 
                      [-89.39191, 43.07358], [-89.39181, 43.07356], [-89.39161, 43.07344], [-89.39138, 43.07323]]
      }
      }
      });
      map.addLayer({
      'id': 'route',
      'type': 'line',
      'source': 'route',
      'layout': {
      'line-join': 'round',
      'line-cap': 'round'
      },
      'paint': {
      'line-color': '#FF8C00',
      'line-width': 6
      }
      });
      });
   </script>
  </body>
</html>